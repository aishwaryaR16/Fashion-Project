package com.ecomm.test;

import static org.junit.Assert.assertTrue;

import org.junit.BeforeClass;
import org.junit.Ignore;
import org.junit.Test;
import org.springframework.context.annotation.AnnotationConfigApplicationContext;

import com.ecomm.dao.CartDAO;
import com.ecomm.model.Cart;
import com.ecomm.model.Category;

public class CartDAOTest 
{
static CartDAO cartDAO;
@BeforeClass
public static void initialize()
{
	AnnotationConfigApplicationContext myContext=new AnnotationConfigApplicationContext();
	myContext.scan("com.ecomm");
	myContext.refresh();
	
	cartDAO=(CartDAO)myContext.getBean("cartDAO");
}

@Test
public void addCartTest()
{
	Cart cart=new Cart();
	cart.setItemId(1);
	cart.setProductId(1002);
	cart.setProductName("Trousers");
	cart.setQuantity(1);
	cart.setTotalPrice(1800);
	cart.setPayment("COD");
	cart.setOrderDate("15-Feb-2021");
	
	assertTrue("Problem in inserting Product",cartDAO.addCart(cart));
}
@Ignore
@Test
public void deleteCartTest() {
	
	Cart cart=cartDAO.getCart(2);
	cart.setItemId(2);
	
	assertTrue("Problem is deleting Product",cartDAO.deleteCart(cart));
	
}
}
